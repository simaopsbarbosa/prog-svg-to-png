<!DOCTYPE html>
<!-- saved from url=(0090)https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#overview -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="">
  <title>Programming project</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span. { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
  </style>
  <link rel="stylesheet" href="./Programming project_files/style.css">
  <script type="text/javascript" src="./Programming project_files/MathJax.js.transferir"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body><div id="MathJax_Message" style="display: none;"></div>
<header id="title-block-header">
<h1 class="title">Programming project</h1>
<p class="subtitle">Programação (L.EIC009)</p>
</header>
<nav id="TOC">
<ul>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#overview"><span class="toc-section-number">1</span> Overview</a><ul>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#summary"><span class="toc-section-number">1.1</span> Summary</a></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#svg-format-outline"><span class="toc-section-number">1.2</span> SVG format outline</a></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#references"><span class="toc-section-number">1.3</span> References</a></li>
</ul></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#constraints-logistics"><span class="toc-section-number">2</span> Constraints &amp; logistics</a><ul>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#deadline"><span class="toc-section-number">2.1</span> Deadline</a></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#group-work"><span class="toc-section-number">2.2</span> Group work</a></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#evaluation-criteria"><span class="toc-section-number">2.3</span> Evaluation criteria</a></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#plagiarism"><span class="toc-section-number">2.4</span> Plagiarism</a></li>
</ul></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#code-project"><span class="toc-section-number">3</span> Code project</a><ul>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#getting-started"><span class="toc-section-number">3.1</span> Getting started</a></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#project-files"><span class="toc-section-number">3.2</span> Project files</a></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#programs"><span class="toc-section-number">3.3</span> Programs</a><ul>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#the-svgtopng-program"><span class="toc-section-number">3.3.1</span> The <code>svgtopng</code> program</a></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#the-test-program"><span class="toc-section-number">3.3.2</span> The <code>test</code> program</a></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#the-xmldump-program"><span class="toc-section-number">3.3.3</span> The <code>xmldump</code> program</a></li>
</ul></li>
</ul></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#tasks"><span class="toc-section-number">4</span> Tasks</a><ul>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#the-svg-root-element"><span class="toc-section-number">4.1</span> The <code>&lt;svg&gt;</code> root element</a></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#geometrical-elements-to-consider"><span class="toc-section-number">4.2</span> Geometrical elements to consider</a></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#element-transformations"><span class="toc-section-number">4.3</span> Element transformations</a></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#groups-g-elements"><span class="toc-section-number">4.4</span> Groups (<code>&lt;g&gt;</code> elements)</a></li>
<li><a href="https://moodle2324.up.pt/pluginfile.php/189678/mod_resource/content/19/index.html#element-duplication-use-elements"><span class="toc-section-number">4.5</span> Element duplication (<code>&lt;use&gt;</code> elements)</a></li>
</ul></li>
</ul>
</nav>
<h1 id="overview"><span class="header-section-number">1</span> Overview</h1>
<h2 id="summary"><span class="header-section-number">1.1</span> Summary</h2>
<p>This project concerns the conversion of images from the <a href="https://en.wikipedia.org/wiki/SVG">SVG</a> vectorial format to the <a href="https://en.wikipedia.org/wiki/PNG">PNG</a> raster format. You will need to define a hierarchy of C++ classes corresponding to SVG elements and code for reading these elements from the SVG format.</p>
<p>A skeleton is provided for development with the structure detailed below in this document, including support already given to read XML files (the format in which SVG is expressed) using the <a href="http://leethomason.github.io/tinyxml2/">TinyXML2</a> library, and to write PNG files.</p>
<h2 id="svg-format-outline"><span class="header-section-number">1.2</span> SVG format outline</h2>
<p>SVG is a vectorial image format encoded in XML. The example in Listing 1 (below) illustrates a 200 x 200 image containing several <code>&lt;circle&gt;</code> elements.</p>
<p>You can write a SVG file with these contents (use the <code>.svg</code> file extension) and view it using the Firefox or Chrome web browsers for instance. It should look as illustrated by the PNG file shown in Figure 1 (below).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">&lt;svg</span><span class="ot"> width=</span><span class="st">"200"</span><span class="ot"> height=</span><span class="st">"200"</span><span class="ot"> xmlns=</span><span class="st">"http://www.w3.org/2000/svg"</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb1-2" title="2">    <span class="kw">&lt;circle</span><span class="ot"> cx=</span><span class="st">"100"</span><span class="ot"> cy=</span><span class="st">"100"</span><span class="ot"> r=</span><span class="st">"95"</span><span class="ot"> fill=</span><span class="st">"red"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="kw">&lt;circle</span><span class="ot"> cx=</span><span class="st">"100"</span><span class="ot"> cy=</span><span class="st">"100"</span><span class="ot"> r=</span><span class="st">"80"</span><span class="ot"> fill=</span><span class="st">"#A00000"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="kw">&lt;circle</span><span class="ot"> cx=</span><span class="st">"50"</span><span class="ot"> cy=</span><span class="st">"50"</span><span class="ot"> r=</span><span class="st">"25"</span><span class="ot"> fill=</span><span class="st">"white"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="kw">&lt;circle</span><span class="ot"> cx=</span><span class="st">"50"</span><span class="ot"> cy=</span><span class="st">"50"</span><span class="ot"> r=</span><span class="st">"10"</span><span class="ot"> fill=</span><span class="st">"black"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="kw">&lt;circle</span><span class="ot"> cx=</span><span class="st">"150"</span><span class="ot"> cy=</span><span class="st">"50"</span><span class="ot"> r=</span><span class="st">"25"</span><span class="ot"> fill=</span><span class="st">"white"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="kw">&lt;circle</span><span class="ot"> cx=</span><span class="st">"150"</span><span class="ot"> cy=</span><span class="st">"50"</span><span class="ot"> r=</span><span class="st">"10"</span><span class="ot"> fill=</span><span class="st">"black"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb1-8" title="8">    <span class="kw">&lt;circle</span><span class="ot"> cx=</span><span class="st">"100"</span><span class="ot"> cy=</span><span class="st">"150"</span><span class="ot"> r=</span><span class="st">"40"</span><span class="ot"> fill=</span><span class="st">"white"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb1-9" title="9">    <span class="kw">&lt;circle</span><span class="ot"> cx=</span><span class="st">"100"</span><span class="ot"> cy=</span><span class="st">"150"</span><span class="ot"> r=</span><span class="st">"30"</span><span class="ot"> fill=</span><span class="st">"black"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="kw">&lt;/svg&gt;</span></a></code></pre></div>
<p class="lcaption">
Listing 1. Example SVG file.
</p>
<figure>
<img src="./Programming project_files/circle_2.png" alt="Figure 1. Visualization of SVG file from Listing 1."><figcaption>Figure 1. Visualization of SVG file from Listing 1.</figcaption>
</figure>
<h2 id="references"><span class="header-section-number">1.3</span> References</h2>
<ul>
<li>SVG
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/SVG">Reference (mozilla.org)</a></li>
<li><a href="https://www.w3schools.com/graphics/svg_intro.asp">W3 Schools tutorial</a></li>
<li><a href="https://www.w3schools.com/graphics/tryit.asp?filename=trysvg_rect">W3 Schools Try It editor</a></li>
</ul></li>
<li><a href="http://leethomason.github.io/tinyxml2/">TinyXML2 library documentation</a>.</li>
</ul>
<h1 id="constraints-logistics"><span class="header-section-number">2</span> Constraints &amp; logistics</h1>
<h2 id="deadline"><span class="header-section-number">2.1</span> Deadline</h2>
<p>The deadline for project delivery is <strong>May 17, 2024, until 23:59</strong>.</p>
<p>Near the deadline, a form will be made available in Moodle for project delivery. You will need to deliver a ZIP file named <code>delivery.zip</code>, containing files <code>README.md</code>, <code>SVGElements.hpp</code>, <code>SVGElements.cpp</code>, and <code>readSVG.cpp</code>. To generate the ZIP file run <code>make delivery.zip</code> in the project folder.</p>
<pre><code>$ make delivery.zip
rm -f delivery.zip
zip -9r delivery.zip README.md SVGElements.hpp SVGElements.cpp readSVG.cpp
  adding: README.md (deflated 39%)
  adding: SVGElements.hpp (deflated 78%)
  adding: SVGElements.cpp (deflated 78%)
  adding: readSVG.cpp (deflated 78%)</code></pre>
<h2 id="group-work"><span class="header-section-number">2.2</span> Group work</h2>
<p>Groups must be formed by <strong>3 students of the same practical class</strong>. You must use the Moodle group selection pages to form groups.</p>
<p>An <strong>exception</strong> is made for working students (“trabalhadores estudantes”) or students without a practical class. These students may work alone if they prefer.</p>
<p>All the group members must collaborate for the development of the project.</p>
<h2 id="evaluation-criteria"><span class="header-section-number">2.3</span> Evaluation criteria</h2>
<ol type="1">
<li>Your code must compile with the given <code>Makefile</code> and be correct taking into account the requirements detailed in this document.</li>
</ol>
<ul>
<li>Use the provided <code>test</code> program to validate your implementation.</li>
<li>In addition to functional aspects, the code must not have memory usage problems, for example in terms of buffer overflows, dangling references, or memory leaks.</li>
</ul>
<ol start="2" type="1">
<li><p>Your code must be well structured and as simple as possible, in particular the class hierarchy corresponding to SVG elements.</p></li>
<li><p>Your code should be clearly indented and include comments. Comments should be used to describe the flow of SVG reading in <code>readSVG.cpp</code>. Additionally, <a href="https://www.doxygen.nl/manual/docblocks.html#cppblock">Doxygen</a>-style comments should provide simple descriptions of each class function in <code>SVGElements.hpp</code>, e.g.:</p></li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode cpp"><code class="sourceCode cpp"><a class="sourceLine" id="cb3-1" title="1"><span class="co">//! Describe what the function does.</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co">//! </span><span class="an">@param</span><span class="co"> </span><span class="cv">p_1</span><span class="co"> Description of parameter 1</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">//! </span><span class="an">@param</span><span class="co"> </span><span class="cv">p_2</span><span class="co"> Description of parameter 2</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">//! ...</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">//! </span><span class="an">@param</span><span class="co"> </span><span class="cv">p_n</span><span class="co"> Description of parameter n</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">//! </span><span class="an">@return</span><span class="co"> Describe what the function returns (if it is not void or a constructor).</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="dt">return_type</span> some_function(type_1 p1, type_2 p_2, ... , type_n p_n)</a></code></pre></div>
<h2 id="plagiarism"><span class="header-section-number">2.4</span> Plagiarism</h2>
<p>Your code will be analyzed for plagiarism. Remember that this is a group project, not a “group-of-groups” project. Inter-group discussions are healthy, code sharing is not.</p>
<p><strong>Plagiarism will result in the annulment of the project for involved groups and other possible disciplinary measures</strong>.</p>
<p>If you use code repositories (e.g.&nbsp;on GitHub), make sure your repository for the project is <strong>private</strong> to avoid unintended dissemination of your work.</p>
<p>All group elements must be able to explain all the code submitted by their group. Code that the group members are not able to explain will be treated as plagiarism.</p>
<h1 id="code-project"><span class="header-section-number">3</span> Code project</h1>
<h2 id="getting-started"><span class="header-section-number">3.1</span> Getting started</h2>
<p>Download the ZIP archive available at Moodle. Unzip the archive, then run <code>make</code> to verify that compilation runs without errors.</p>
<pre><code>$ unzip project.zip
...
$ cd project
$ make
g++ -std=c++11  -pedantic -Wall -Wuninitialized -Werror -g -fsanitize=address -fsanitize=undefined -c -o svgtopng.o svgtopng.cpp
g++ -std=c++11  -pedantic -Wall -Wuninitialized -Werror -g -fsanitize=address -fsanitize=undefined -c -o Color.o Color.cpp
g++ -std=c++11  -pedantic -Wall 
...
g++ -std=c++11  -pedantic -Wall -Wuninitialized -Werror -g -fsanitize=address -fsanitize=undefined -o xmldump xmldump.o libproj.a</code></pre>
<p>Three programs are generated:</p>
<ol type="1">
<li><code>svgtopng</code>: SVG to PNG conversion program;</li>
<li><code>test</code>: for validating your code using automated tests; and</li>
<li><code>xmldump</code>: example illustrating the use of the TinyXML2 library.</li>
</ol>
<p>If you wish to recompile everything from scratch, execute <code>make clean all</code>.</p>
<pre><code>$ make clean all</code></pre>
<h2 id="project-files"><span class="header-section-number">3.2</span> Project files</h2>
<p>The project files and directories are divided in two sets: those that you should change (Table 1 below), and others that <strong>must not</strong> be changed (Table 2).</p>
<table>
<caption>Table 1. Files/directories that can be changed.</caption>
<colgroup>
<col style="width: 33%">
<col style="width: 66%">
</colgroup>
<thead>
<tr class="header">
<th>File(s)/directory</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>SVGElements.hpp</code><br><code>SVGElements.cpp</code></td>
<td>Header and implementation files for <code>svg::SVGElement</code> and its derived classes.</td>
</tr>
<tr class="even">
<td><code>readSVG.cpp</code></td>
<td>Implementation file for <code>svg::readSVG</code> function.</td>
</tr>
<tr class="odd">
<td><code>README.md</code></td>
<td>Identifies group members and provides a summary of the work.</td>
</tr>
<tr class="even">
<td><code>output</code> directory</td>
<td>Initially empty, output PNG images will be placed here.</td>
</tr>
</tbody>
</table>
<table>
<caption>Table 2. Files/directories that must not be changed/removed.</caption>
<colgroup>
<col style="width: 57%">
<col style="width: 42%">
</colgroup>
<thead>
<tr class="header">
<th>Files/directory</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>input</code> directory</td>
<td>Directory containing SVG images used as input for PNG conversion.</td>
</tr>
<tr class="even">
<td><code>expected</code> directory</td>
<td>Directory containing PNG files that correspond to the expected outputs of SVG translation.</td>
</tr>
<tr class="odd">
<td><code>Makefile</code></td>
<td>Makefile to use for compilation.</td>
</tr>
<tr class="even">
<td><code>test.cpp</code><br> <code>svgtopng.cpp</code> <br> <code>xmldump.cpp</code></td>
<td>Source code of programs (they have a <code>main</code> function).</td>
</tr>
<tr class="odd">
<td><code>convert.cpp</code></td>
<td>Implementation of <code>svg::convert</code> function.</td>
</tr>
<tr class="even">
<td><code>Color.hpp</code> <br> <code>Color.cpp</code></td>
<td>Header and implementation file for the <code>Color</code> type.</td>
</tr>
<tr class="odd">
<td><code>Point.hpp</code> <br> <code>Point.cpp</code> <br></td>
<td>Header and implementation file for the <code>Point</code> type.</td>
</tr>
<tr class="even">
<td><code>PNGImage.hpp</code> <br> <code>PNGImage.cpp</code> <br></td>
<td>Header and implementation file for <code>PNGImage</code> class.</td>
</tr>
<tr class="odd">
<td><code>external/stb</code> directory</td>
<td><a href="https://github.com/nothings/stb">stb</a> source code necessary for PNG support.</td>
</tr>
<tr class="even">
<td><code>external/tinyxm2</code> directory</td>
<td>TinyXML2 source code necessary for XML support.</td>
</tr>
</tbody>
</table>
<h2 id="programs"><span class="header-section-number">3.3</span> Programs</h2>
<h3 id="the-svgtopng-program"><span class="header-section-number">3.3.1</span> The <code>svgtopng</code> program</h3>
<p>The <code>convert</code> program can be invoked to process one SVG files and convert it to PNG e.g.,</p>
<pre><code>$ ./svgtopng x.svg x.png
Performing conversion ... x.svg --&gt; x.png
Done</code></pre>
<h3 id="the-test-program"><span class="header-section-number">3.3.2</span> The <code>test</code> program</h3>
<p>The <code>test</code> program can be invoked to execute one or more automated tests. It will output a report of passed and failed tests, and also generate a <code>test_log.txt</code> file containing information regarding test failures.</p>
<p>Run <code>test x</code> to test PNG conversion for all SVG images in the <code>input</code> directory that have the prefix <code>x</code>. The <code>x</code> prefix may refer to an element name (e.g., <code>ellipse</code>) or transformation type (e.g., <code>translate</code>).</p>
<pre><code>$ ./test ellipse
== 2 tests to execute  ==
[1] ellipse_1: pass
[2] ellipse_2: pass
== TEST EXECUTION SUMMARY ==
Total tests: 2
Passed tests: 2
Failed tests: 0
See test_log.txt for details.</code></pre>
<p>You can also run <code>test</code> with no arguments to execute all tests:</p>
<pre><code>$ ./test</code></pre>
<p>In all cases, the program will produce a <code>test_log.txt</code> file containing detailed test failure information.</p>
<h3 id="the-xmldump-program"><span class="header-section-number">3.3.3</span> The <code>xmldump</code> program</h3>
<p>The <code>xmldump</code> program can be invoked to print the structure of an XML file. Reading the source code may be helpful to understand how the TinyXML2 library works.</p>
<pre><code>$ ./xmldump input/group_3.svg
svg --&gt; [ width="530" height="530" xmlns="http://www.w3.org/2000/svg" ] 
  g --&gt; [ transform="translate(10 10)" ] 
    circle --&gt; [ cx="250" cy="250" r="250" fill="red" ] 
    circle --&gt; [ cx="250" cy="250" r="200" fill="white" ] 
    circle --&gt; [ cx="250" cy="250" r="150" fill="red" ] 
    circle --&gt; [ cx="250" cy="250" r="100" fill="blue" ] 
    polygon --&gt; [ fill="white" points="250,150 280,209 346,219 298,265 309,330 250,300 192,330 203,265 155,219 221,209" ]</code></pre>
<h1 id="tasks"><span class="header-section-number">4</span> Tasks</h1>
<p>The project considers a small subset of the SVG standard, and in some cases only approximately with a few deviations to the SVG standard. A summary is now provided of the relevant SVG features and the associated tasks.</p>
<h2 id="the-svg-root-element"><span class="header-section-number">4.1</span> The <code>&lt;svg&gt;</code> root element</h2>
<p>SVG images are expressed in XML by a <code>&lt;svg&gt;</code> root element illustrated in Listing 2. The <code>width</code> and <code>height</code> attributes express integer values for the image width and height respectively. As in other image formats (e.g., also PNG), the established convention is that the upper-left corner has coordinates <code>(0,0)</code> and the lower-right corner has coordinates <code>(width-1, height-1)</code>. This type of coordinate system is illustrated in Figure 2 below.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">&lt;svg</span><span class="ot"> width=</span><span class="st">"..."</span><span class="ot"> height=</span><span class="st">"..."</span> <span class="er">...</span> <span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb10-2" title="2">... </a>
<a class="sourceLine" id="cb10-3" title="3"><span class="kw">&lt;/svg&gt;</span></a></code></pre></div>
<p class="lcaption">
Listing 2. The <code>&lt;svg&gt;</code> root node in SVG files.
</p>
<figure>
<img src="./Programming project_files/image_coords.png" alt="Figure 2. XY coordinate system for an image."><figcaption>Figure 2. XY coordinate system for an image.</figcaption>
</figure>
<p><strong>Note:</strong> In the project examples, SVG elements also contain the <code>xmlns</code> attribute. This has no impact on the geometric definition of elements, but it is required for viewing SVG files in browsers such as Chrome or Firefox.</p>
<p><strong>SVG reading logic in <code>readSVG.cpp</code></strong></p>
<p>The SVG-to-PNG conversion function is given in <code>convert.cpp</code>. As indicated previously, this file should <strong>not</strong> be changed. Instead, you need to add the SVG reading logic in the <code>readSVG</code> function implemented in file <code>readSVG.cpp</code>. The <code>convert</code> function calls <code>readSVG</code> to obtain the image dimensions (width and height) and a vector of <code>SVGElement*</code> pointers to dynamically allocated instances of <code>SVGElement</code>.</p>
<p>The initial version of <code>readSVG()</code> illustrates how the <code>width</code> and <code>height</code> arguments are parsed in the top-level <code>&lt;svg&gt;</code> node in a SVG file. You need to add code to traverse the XML child nodes (see <code>xmldump.cpp</code> for an example of how to do it) and parse the SVG elements that are defined. Per each child node, an object should be dynamically allocated using <code>new</code> for the corresponding type of <code>SVGElement</code>, and be stored in the <code>elements</code> vector.</p>
<p><strong>Note:</strong> To read colors you may use the <code>Color parse(std::string)</code> function (see <code>Color.hpp</code>/<code>Color.cpp</code>).</p>
<h2 id="geometrical-elements-to-consider"><span class="header-section-number">4.2</span> Geometrical elements to consider</h2>
<p>SVG can express standard geometrical elements, some of which are considered in the project, and detailed next. In addition to these elements, the project also considers <code>&lt;g&gt;</code> and <code>&lt;use&gt;</code> elements discussed later in this document.</p>
<p>The subset of SVG geometrical elements and corresponding (subset of) attributes to consider for each element are as follows:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/ellipse"><code>&lt;ellipse&gt;</code></a> - an ellipse defined by:
<ul>
<li><code>cx</code> and <code>cy</code>: XY coordinates for the ellipse’s center point;</li>
<li><code>rx</code> and <code>ry</code>: ellipse radiuses in the X and Y axes;</li>
<li><code>fill</code>: fill color to use;</li>
</ul></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/circle"><code>&lt;circle&gt;</code></a> - a circle defined by:
<ul>
<li><code>cx</code> and <code>cy</code>: XY coordinates for the circle’s center point;</li>
<li><code>r</code>: radius;</li>
<li><code>fill</code>: fill color;</li>
</ul></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/polyline"><code>&lt;polyline&gt;</code></a> - a sequence of connected lines defined by:
<ul>
<li><code>points</code>: a comma-separated sequence of XY coordinates;</li>
<li><code>stroke</code>: line color;</li>
</ul></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/line"><code>&lt;line&gt;</code></a> - a line segment defined by:
<ul>
<li><code>x1</code> and <code>y1</code> : XY coordinates of the start point;<br>
</li>
<li><code>x2</code> and <code>y2</code> : XY coordinates of the end point;</li>
<li><code>stroke</code>: line color;</li>
</ul></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/polygon"><code>&lt;polygon&gt;</code></a> - a polygon defined:
<ul>
<li><code>points</code>: a comma-separated sequence of XY coordinates;</li>
<li><code>fill</code>: fill color;</li>
</ul></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect"><code>&lt;rect&gt;</code></a> - a rectangle defined by:
<ul>
<li><code>x</code> and <code>y</code>: XY coordinates of the upper left corner of the rectangle;</li>
<li><code>width</code> and <code>height</code>: width and height of the rectangle;</li>
<li><code>fill</code>: fill color;</li>
</ul></li>
</ul>
<p>Additionally, each of the elements can optionally have the following attributes explained below:</p>
<ul>
<li>an <code>id</code> attribute in support of elements duplication through <code>&lt;use&gt;</code> (see below);</li>
<li><code>transform</code> and <code>transform-origin</code> attributes, to support transformations (discussed in this document below).</li>
</ul>
<p><strong>Tasks</strong></p>
<p>For each geometrical element <code>e</code> you need to provide the SVG reading logic in <code>readSVG.cpp</code> and define a corresponding class in <code>SVGElements.hpp</code> / <code>SVGElements.cpp</code>. The class:</p>
<ul>
<li>must be a derived class of <code>SVGElement</code> or of another class you have defined, and implement abstract operation <code>draw</code> appropriately;</li>
<li>should have a constructor in line with the arguments previously listed previously for each element type;</li>
<li>implement <code>draw()</code> using the available operations in <code>PNGImage</code> should be used to render the element in PNG format.</li>
<li>you should reflect geometrical element relationships in the class hierarchy - note that a <code>&lt;circle&gt;</code> element can be seen particular type of <code>&lt;ellipse&gt;</code>, <code>&lt;line&gt;</code> as a particular type of <code>&lt;polyline&gt;</code>, and <code>&lt;rect&gt;</code> a particular type of <code>&lt;polygon&gt;</code>.</li>
</ul>
<p>An initial version (you may change it) of <code>Ellipse</code> class is provided to illustrate the above points. For the PNG conversion to work however with <code>&lt;ellipse&gt;</code> elements, you also need to add SVG reading code in the <code>readSVG()</code> function.</p>
<h2 id="element-transformations"><span class="header-section-number">4.3</span> Element transformations</h2>
<p>SVG elements can be transformed with one or more operations specified through the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform"><code>transform</code></a> attribute. Some of these operations are affected by the transformation origin set through <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform-origin"><code>transform-origin</code></a>. An example is given in Listing 3, and corresponding image in Figure 3. As shown in the example, only 3 transformation operations are considered. These are <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform#translate"><code>translate</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform#rotate"><code>rotate</code></a>, and <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform#scale"><code>scale</code></a>. Their meaning is as follows:</p>
<ul>
<li><code>translate(x y)</code> translates an element by <code>x</code> and <code>y</code> units in the X and Y axes respectively;</li>
<li><code>rotate(v)</code> rotates an element with angle <code>v</code>, (clockwise for a positive value and anti-clockwise for a negative value) in relation to the rotation origin, where the rotation origin is set by the value of the <code>transform-origin</code> attribute or (0,0) if that attribute is absent;</li>
<li><code>scale(v)</code> scales an element by a factor <code>v</code> in relation to a scaling origin, where the scaling origin is set by the value of the <code>transform-origin</code> attribute or (0,0) if that attribute is absent. In the project we consider only values for <code>v</code> that are integer and greater or equal than 1.</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">&lt;svg</span><span class="ot"> width=</span><span class="st">"180"</span><span class="ot"> height=</span><span class="st">"260"</span><span class="ot">  xmlns=</span><span class="st">"http://www.w3.org/2000/svg"</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb11-2" title="2">  <span class="kw">&lt;polygon</span><span class="ot"> points=</span><span class="st">"0,0 0,50 50,50"</span><span class="ot"> fill=</span><span class="st">"red"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb11-3" title="3">  <span class="kw">&lt;polygon</span><span class="ot"> points=</span><span class="st">"0,0 0,50 50,50"</span><span class="ot"> fill=</span><span class="st">"blue"</span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="ot">   transform=</span><span class="st">"translate(75 0)"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb11-5" title="5">  <span class="kw">&lt;polygon</span><span class="ot"> points=</span><span class="st">"0,75 0,125 50,125"</span><span class="ot"> fill=</span><span class="st">"red"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb11-6" title="6">  <span class="kw">&lt;polygon</span><span class="ot"> points=</span><span class="st">"75,75 75,125 125,125"</span><span class="ot"> fill=</span><span class="st">"blue"</span></a>
<a class="sourceLine" id="cb11-7" title="7"><span class="ot">    transform-origin=</span><span class="st">"100 100"</span><span class="ot"> transform=</span><span class="st">"rotate(180)"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb11-8" title="8">  <span class="kw">&lt;polygon</span><span class="ot"> points=</span><span class="st">"0,150 0,200 50,200"</span><span class="ot"> fill=</span><span class="st">"red"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb11-9" title="9">  <span class="kw">&lt;polygon</span><span class="ot"> points=</span><span class="st">"75,150 75,200 125,200"</span><span class="ot"> fill=</span><span class="st">"blue"</span></a>
<a class="sourceLine" id="cb11-10" title="10"><span class="ot">    transform-origin=</span><span class="st">"75 150"</span><span class="ot"> transform=</span><span class="st">"scale(2)"</span> <span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb11-11" title="11"><span class="kw">&lt;/svg&gt;</span></a></code></pre></div>
<p class="lcaption">
Listing 3. Transformation examples.
</p>
<figure>
<img src="./Programming project_files/transform_examples.png" alt="Figure 3. Transformation examples."><figcaption>Figure 3. Transformation examples.</figcaption>
</figure>
<p><strong>Deviations to the SVG standard</strong></p>
<p>Adherence to the SVG standard is not strict. The following deviations are considered in the project:</p>
<ul>
<li><p>For <code>polyline</code> and <code>line</code> the <code>scale</code> transformation is supposed to scale the thickness of drawn lines (<code>stroke-width</code>). We will ignore this requirement. Instead, all lines will be drawn in PNG format with a thickness of 1 pixel.</p></li>
<li><p>For <code>ellipse</code> the <code>rotate</code> transformation applies geometrically to all points of an ellipse points, possibly changing the orientation of the ellipse. For simplicity, we consider only rotating the ellipse’s center in relation to the rotation origin.</p></li>
</ul>
<p><strong>Suggestions</strong></p>
<ul>
<li><p>Use the base functions defined for the <code>Point</code> type, allowing the coordinates point to be translated, or scaled/rotated in relation to an origin.</p></li>
<li><p>It may be also helpful to define abstract operations (virtual pure functions) in <code>SVGElement</code> corresponding to each transformation. This may let you parse and apply transformations with a common logic for all elements, and then delegate the element transformations on the <code>SVGElement</code> abstract operations.</p></li>
</ul>
<p><strong>Additional examples</strong></p>
<p>Additional examples of <code>scale</code> and <code>rotate</code> without <code>transform_origin</code> set are given in Listings/Figures 4 and 5 respectively. When the <code>transform-origin</code> is not set, its default value is <code>(0,0)</code> (the top-left corner of the image).</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">&lt;svg</span><span class="ot"> width=</span><span class="st">"210"</span><span class="ot"> height=</span><span class="st">"210"</span><span class="ot">  xmlns=</span><span class="st">"http://www.w3.org/2000/svg"</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb12-2" title="2">  <span class="kw">&lt;polygon</span><span class="ot"> points=</span><span class="st">"25,25 50,25 50,50"</span><span class="ot"> fill=</span><span class="st">"red"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb12-3" title="3">  <span class="kw">&lt;polygon</span><span class="ot"> points=</span><span class="st">"25,25 50,25 50,50"</span><span class="ot"> fill=</span><span class="st">"blue"</span><span class="ot"> transform=</span><span class="st">"scale(2)"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb12-4" title="4">  <span class="kw">&lt;polygon</span><span class="ot"> points=</span><span class="st">"25,25 50,25 50,50"</span><span class="ot"> fill=</span><span class="st">"green"</span><span class="ot"> transform=</span><span class="st">"scale(4)"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="kw">&lt;/svg&gt;</span></a></code></pre></div>
<p class="lcaption">
Listing 4. <code>scale</code> without <code>transform-origin</code>.
</p>
<figure>
<img src="./Programming project_files/transform_examples_2.png" alt="Figure 4. scale without transform-origin."><figcaption>Figure 4. <code>scale</code> without <code>transform-origin</code>.</figcaption>
</figure>
<div class="sourceCode" id="cb13"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">&lt;svg</span><span class="ot"> width=</span><span class="st">"300"</span><span class="ot"> height=</span><span class="st">"300"</span><span class="ot">  xmlns=</span><span class="st">"http://www.w3.org/2000/svg"</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb13-2" title="2">  <span class="kw">&lt;rect</span><span class="ot"> x=</span><span class="st">"50"</span><span class="ot"> y=</span><span class="st">"50"</span><span class="ot"> width=</span><span class="st">"200"</span><span class="ot"> height=</span><span class="st">"200"</span><span class="ot"> transform=</span><span class="st">"rotate(10)"</span><span class="ot"> fill=</span><span class="st">"blue"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb13-3" title="3">  <span class="kw">&lt;rect</span><span class="ot"> x=</span><span class="st">"50"</span><span class="ot"> y=</span><span class="st">"50"</span><span class="ot"> width=</span><span class="st">"200"</span><span class="ot"> height=</span><span class="st">"200"</span><span class="ot"> transform=</span><span class="st">"rotate(-10)"</span><span class="ot"> fill=</span><span class="st">"green"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb13-4" title="4">  <span class="kw">&lt;rect</span><span class="ot"> x=</span><span class="st">"50"</span><span class="ot"> y=</span><span class="st">"50"</span><span class="ot"> width=</span><span class="st">"200"</span><span class="ot"> height=</span><span class="st">"200"</span><span class="ot"> fill=</span><span class="st">"red"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb13-5" title="5"><span class="kw">&lt;/svg&gt;</span></a></code></pre></div>
<p class="lcaption">
Listing 5. <code>rotate</code> without <code>transform-origin</code>.
</p>
<figure>
<img src="./Programming project_files/transform_examples_3.png" alt="Figure 5. rotate without transform-origin."><figcaption>Figure 5. <code>rotate</code> without <code>transform-origin</code>.</figcaption>
</figure>
<h2 id="groups-g-elements"><span class="header-section-number">4.4</span> Groups (<code>&lt;g&gt;</code> elements)</h2>
<p>A <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/g"><code>&lt;g&gt;</code></a> element represents a group of other elements, expressed by the XML child nodes. Groups may have the following attributes:</p>
<ul>
<li><code>transform</code>: expresses transformations that should be applied to all group elements;<br>
</li>
<li><code>transform-origin</code>: sets the transformation origin for transformations expressed by <code>transform</code>;</li>
<li><code>id</code>: identifier (can be referred to by <code>&lt;use&gt;</code> elements described below).</li>
</ul>
<p>An example is given in Listing/Figure 6.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">&lt;svg</span><span class="ot"> width=</span><span class="st">"300"</span><span class="ot"> height=</span><span class="st">"300"</span><span class="ot"> xmlns=</span><span class="st">"http://www.w3.org/2000/svg"</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb14-2" title="2">  <span class="kw">&lt;g</span><span class="ot"> transform=</span><span class="st">"rotate(10)"</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb14-3" title="3">    <span class="kw">&lt;rect</span><span class="ot"> x=</span><span class="st">"50"</span><span class="ot"> y=</span><span class="st">"50"</span><span class="ot"> width=</span><span class="st">"50"</span><span class="ot"> height=</span><span class="st">"25"</span><span class="ot"> transform=</span><span class="st">"scale(2)"</span><span class="ot"> fill=</span><span class="st">"blue"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb14-4" title="4">    <span class="kw">&lt;rect</span><span class="ot"> x=</span><span class="st">"50"</span><span class="ot"> y=</span><span class="st">"50"</span><span class="ot"> width=</span><span class="st">"50"</span><span class="ot"> height=</span><span class="st">"25"</span><span class="ot"> transform=</span><span class="st">"scale(3)"</span><span class="ot"> fill=</span><span class="st">"green"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb14-5" title="5">    <span class="kw">&lt;rect</span><span class="ot"> x=</span><span class="st">"50"</span><span class="ot"> y=</span><span class="st">"50"</span><span class="ot"> width=</span><span class="st">"50"</span><span class="ot"> height=</span><span class="st">"25"</span><span class="ot"> fill=</span><span class="st">"red"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb14-6" title="6">    <span class="kw">&lt;rect</span><span class="ot"> x=</span><span class="st">"50"</span><span class="ot"> y=</span><span class="st">"50"</span><span class="ot"> width=</span><span class="st">"50"</span><span class="ot"> height=</span><span class="st">"25"</span><span class="ot"> transform=</span><span class="st">"translate(25 25)"</span><span class="ot"> fill=</span><span class="st">"red"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb14-7" title="7">  <span class="kw">&lt;/g&gt;</span></a>
<a class="sourceLine" id="cb14-8" title="8"><span class="kw">&lt;/svg&gt;</span></a></code></pre></div>
<p class="lcaption">
Listing 6. Example of a <code>&lt;g&gt;</code> element.
</p>
<figure>
<img src="./Programming project_files/group_1.png" alt="Figure 6. Example of a &lt;g&gt; element."><figcaption>Figure 6. Example of a <code>&lt;g&gt;</code> element.</figcaption>
</figure>
<p><strong>Task</strong></p>
<p>You should define a subclass of <code>SVGElement</code> to represent groups, such that the internal state of a group object stores the elements in the group. Element operations over the group, e.g.&nbsp;<code>draw()</code> or others that you define, should be recursively applied to all group elements. Note however that contained elements can be of any kind, even other sub-groups, therefore you should refer to group elements through the <code>SVGElement*</code> type (pointers to <code>SVGElement</code>). Be careful also regarding the correct use of dynamic memory.</p>
<h2 id="element-duplication-use-elements"><span class="header-section-number">4.5</span> Element duplication (<code>&lt;use&gt;</code> elements)</h2>
<p>A <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/use"><code>&lt;use&gt;</code></a> element represents the duplication of an element, optionally affected by independent transformations. The attributes to consider are:</p>
<ul>
<li><p><code>href</code> is mandatory and has a value of the form <code>#identifier</code> (note the use of <code>#</code> as a prefix), where <code>identifier</code> should refer to a previously defined element with that identifier through the <code>id</code> attribute;</p></li>
<li><p><code>transform</code> and <code>transform-origin</code>, if defined, defines transformations that should be applied to the copy of the original element (but not the original element); and</p></li>
<li><p><code>id</code> may define an identifier for the element itself, as it may be also subsequently duplicated.</p></li>
</ul>
<p>An example is given in Listing/Figure 7.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">&lt;svg</span><span class="ot"> width=</span><span class="st">"120"</span><span class="ot"> height=</span><span class="st">"200"</span><span class="ot"> xmlns=</span><span class="st">"http://www.w3.org/2000/svg"</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb15-2" title="2">  <span class="kw">&lt;circle</span><span class="ot"> id=</span><span class="st">"c1"</span><span class="ot"> cx=</span><span class="st">"40"</span><span class="ot"> cy=</span><span class="st">"40"</span><span class="ot"> r=</span><span class="st">"25"</span><span class="ot"> fill=</span><span class="st">"red"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb15-3" title="3">  <span class="kw">&lt;circle</span><span class="ot"> id=</span><span class="st">"c2"</span><span class="ot"> cx=</span><span class="st">"40"</span><span class="ot"> cy=</span><span class="st">"40"</span><span class="ot"> r=</span><span class="st">"25"</span><span class="ot"> fill=</span><span class="st">"blue"</span><span class="ot"> transform=</span><span class="st">"translate(50 0)"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb15-4" title="4">  <span class="co">&lt;!-- Copies of c1 and c2, translated- --&gt;</span></a>
<a class="sourceLine" id="cb15-5" title="5">  <span class="kw">&lt;use</span><span class="ot"> href=</span><span class="st">"#c1"</span><span class="ot"> transform=</span><span class="st">"translate(50 60)"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb15-6" title="6">  <span class="kw">&lt;use</span><span class="ot"> id=</span><span class="st">"c3"</span><span class="ot"> href=</span><span class="st">"#c2"</span><span class="ot"> transform=</span><span class="st">"translate(-50 60)"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb15-7" title="7">  <span class="co">&lt;!-- Copy of c3, translated --&gt;</span></a>
<a class="sourceLine" id="cb15-8" title="8">  <span class="kw">&lt;use</span><span class="ot"> href=</span><span class="st">"#c3"</span><span class="ot"> transform=</span><span class="st">"translate(50 60)"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb15-9" title="9"><span class="kw">&lt;/svg&gt;</span></a></code></pre></div>
<p class="lcaption">
Listing 7. Example of <code>&lt;use&gt;</code> elements.
</p>
<p>.</p>
<figure>
<img src="./Programming project_files/use_1.png" alt="Figure 7. Example of &lt;use&gt; elements."><figcaption>Figure 7. Example of <code>&lt;use&gt;</code> elements.</figcaption>
</figure>
<p><strong>Suggestions</strong></p>
<p>In the SVG reading logic (<code>readSVG.cpp</code>), you will need to maintain a record for the association between identifiers and elements. An abstract operation for element duplication/“cloning” in the <code>SVGElement</code> class may be helpful too!</p>


</body></html>